# 程序组织单元（POU）

POU是IEC61131-3 标准中定义的一种编程单位，用于创建控制器应用程序。POU由变量声明区和代码区两部分组成，可用不同的编程语言（ST、FBD、LD）来实现控制逻辑或算法。

POU包含三种类型：程序（Program）、功能块（Function Block）、功能（FunctionUnit）

- **程序**：PLC应用的主体，将不同的POU连接到一起，程序包含主要的控制逻辑、通过POU的调用和执行实现整个系统的功能。
- **功能**：没有内部状态的基本算法单元，根据输入参数返回运算结果，不保留任何内部数据。功能可以实现一些常用的数字运算或逻辑运算。
- **功能块**：面向对象的基本算法单元，具有内部状态变量和执行逻辑。功能块可以保留上一次运行的结果，也可以被多次实例化和重复使用。

## 功能与功能块的区别

功能块有存储功能，功能块的背景数据块是一种存储数据的区域，它可以保存功能块的输入、输出、静态变量和状态数据。这些数据在功能块执行完毕或退出程序后仍然保持不变，可以在下次调用时继续使用。

功能没有存储功能，它只能使用全局变量或临时变量。功能的输入、输出参数都是指针类型，它们只有在调用时才会和实际的地址产生关系。功能执行完毕或退出程序后，这些参数的值就会消失，不会保存。

## 调用关系
POU不可以递归调用，即无法直接或间接调用自身。
- 程序可调用功能或功能块，但不能调用程序；
- 功能块可调用功能或其他功能块，但不能调用程序；
- 功能可调用其他功能，但不能调用程序或功能块。